(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();const v="data.json";function w(e){return e.reduce((l,r)=>{const n=r.category||"uncategorized";return l[n]||(l[n]=[]),l[n].push(r),l},{})}fetch(v).then(e=>e.json()).then(e=>{const l=w(e),r=document.getElementById("menu");r.classList.add("flex","flex-wrap","gap-0","justify-center","items-start","py-0.5","rounded-lg","mx-auto","mt-0.5","px-0.5"),r.style.maxWidth="1920px",Object.entries(l).forEach(([n,o])=>{const a=document.createElement("div");a.classList.add("text-center","mx-2");const i=document.createElement("button");i.innerText=n.toUpperCase(),i.classList.add("p-0.5","hover:text-white","focus:outline-none","text-xl","font-bold"),i.onclick=function(c){c.preventDefault(),t.classList.toggle("hidden")};const t=document.createElement("div");t.classList.add("hidden","absolute","mt-2","z-50","text-left"),o.forEach(c=>{const s=document.createElement("a");s.href="#",s.innerText=c.title,s.classList.add("block","px-0.5","py-0.5","text-xl","hover:text-white"),s.onclick=function(p){p.preventDefault(),t.classList.add("hidden"),N(n.toLowerCase(),c.title)},t.appendChild(s)}),a.appendChild(i),a.appendChild(t),r.appendChild(a)})}).catch(e=>console.error("Error loading the data:",e));function N(e,l){document.querySelectorAll(".category-container").forEach(n=>{n.id.toLowerCase()===e?(n.style.display="",n.querySelectorAll("section").forEach(a=>{a.style.display=a.getAttribute("data-title")===l?"":"none"})):n.style.display="none"})}function L(e,l){if(shaka.Player.isBrowserSupported()){const r=document.createElement("div");r.className="w-full h-full",e.replaceWith(r),r.appendChild(e);const n=new shaka.Player;n.attach(e).then(()=>{const o=new shaka.ui.Overlay(n,r,e),a={addSeekBar:!0,addBigPlayButton:!0};o.configure(a),n.load(l).then(()=>{S(n)}).catch(i=>{console.error("Error setting up Shaka Player:",i),console.error("Failed to load video URL:",l);const t=document.createElement("div");t.textContent="Failed to load video. Please try again later.",t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.color="white",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.padding="10px",t.style.borderRadius="5px",t.style.textAlign="center",r.appendChild(t)})})}else console.error("Browser not supported for Shaka Player")}function S(e){e.configure({streaming:{rebufferingGoal:5,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!0,alwaysStreamText:!0}})}function k(e){e.setVolume(.5)}function P(e,l){const r=document.createElement("div");r.className="w-full h-full",e.replaceWith(r),r.appendChild(e);const n=WaveSurfer.create({container:r,waveColor:"#484848",progressColor:"#f80404",cursorColor:"black",cursorWidth:0,barWidth:null,barGap:null,barRadius:null,normalize:!0,dragToSeek:!0,mediaControls:!0,autoCenter:!0,sampleRate:48e3,backend:"MediaElement",partialRender:!0});return n.load(l),n.on("ready",function(){k(n)}),n.on("error",function(o){console.error("Error setting up WaveSurfer:",o)}),n}let h=null,y=null;document.addEventListener("DOMContentLoaded",()=>{fetch("data.json").then(e=>e.json()).then(e=>{e.forEach((l,r)=>{A(l,r+1)})}).catch(e=>console.error("Error loading JSON:",e)).catch(e=>{console.error("Error loading JSON:",e),console.log("Failed to load some videos due to the above error.")})});function A(e,l){const r=document.getElementById(e.category.toLowerCase());if(!r){console.warn(`No container found for category: ${e.category}`);return}const n=document.createElement("section");n.className="w-3/4 mx-auto py-4 text-xs",n.id=`${e.category.toLowerCase()}_${l}`,n.setAttribute("data-title",e.title);const o=document.createElement("h2");o.textContent=e.category,o.className="text-xl font-bold",n.appendChild(o);const a=document.createElement("h2");if(a.textContent=`${e.title}`,a.className="text-xl font-bold",n.appendChild(a),e.audioFormat){const t=document.createElement("p");t.textContent="Audio Format: "+e.audioFormat,t.className="text-base",n.appendChild(t)}if(e.subtitle){const t=document.createElement("p");t.textContent=e.subtitle,t.className="text-base",n.appendChild(t)}if(e.description){const t=document.createElement("p");t.textContent=e.description,t.className="text-base mt-4",n.appendChild(t)}if(e.videoUrls&&Array.isArray(e.videoUrls)&&e.videoUrls.forEach(t=>{const c=document.createElement("video");c.className="shaka-player w-full";const s=typeof t=="object"?t.url:t;if(typeof t=="object"){const p=document.createElement("p");p.textContent=t.videoTitle,p.className="text-center font-medium mt-4",n.appendChild(p),c.src=s,n.appendChild(c);const f=document.createElement("p");f.textContent=t.videoDescription,f.className="text-base text-center italic mt-3 ",n.appendChild(f);const d=document.createElement("p");d.textContent=t.videoMoreInfo,d.className="text-base text-center mt-2",n.appendChild(d);const u=document.createElement("hr");u.style.borderTop="0.5px solid currentColor",n.appendChild(u)}c.addEventListener("play",()=>{y&&y.pause(),h&&h!==c&&h.pause(),h=c}),L(c,s)}),e.audioUrls&&Array.isArray(e.audioUrls)&&e.audioUrls.forEach((t,c)=>{const s=document.createElement("div");s.className="audio-player wavesurfer-container",s.id=`audio-player-${l}-${c}`,n.appendChild(s);const p=typeof t=="object"?t.url:t;if(typeof t=="object"){const d=document.createElement("p");d.textContent=t.audioDescription,d.className="text-center italic",n.appendChild(d);const u=document.createElement("p");u.textContent=t.audioMoreInfo,u.className="text-center",n.appendChild(u)}const f=P(s,p);f.on("play",function(){h&&h.pause(),y&&y!==f&&y.pause(),y=f})}),e.imageUrl){const t=document.createElement("img");t.src=e.imageUrl,t.className="max-w-full h-auto",n.appendChild(t)}if(e.year){const t=document.createElement("p");t.textContent=e.year,t.className="text-base",n.appendChild(t)}if(e.text){const t=document.createElement("p");t.innerHTML=e.text,t.className="text-base",n.appendChild(t)}const i=document.createElement("hr");if(i.className="my-12 h-0.5 border-t-0 bg-neutral-100 dark:bg-white/10",n.appendChild(i),e.info){const t=document.createElement("div");t.className="info-container",Object.entries(e.info).forEach(([c,s],p,f)=>{if(s){const d=document.createElement("div");d.className="flex border-b";const u=document.createElement("span");u.innerHTML=`<strong>${c}:</strong>`,u.className="w-32";const C=document.createElement("span");if(Array.isArray(s)){const g=document.createElement("ul");s.forEach(b=>{const E=document.createElement("li");E.textContent=b,g.appendChild(E)}),C.appendChild(g)}else C.textContent=s;if(d.appendChild(u),d.appendChild(C),t.appendChild(d),p<f.length-1){const g=document.createElement("hr");g.style.borderTop="0.5px solid currentColor",t.appendChild(g)}}}),n.appendChild(t)}r.appendChild(n)}var x=document.getElementsByClassName("collapsible"),m;for(m=0;m<x.length;m++)x[m].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"});window.addEventListener("scroll",function(){if(window.scrollY>100)for(m=0;m<x.length;m++){var e=x[m].nextElementSibling;e.style.maxHeight=null}});const T=document.getElementById("dark-mode-toggle");T.addEventListener("click",()=>{document.body.classList.toggle("dark")});
